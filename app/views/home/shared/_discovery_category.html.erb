<%
  discovery_rows = [
    {
      animation: "marquee-left",
      tags: [
        {tag: "blender", path: "3d", icon: "discover/animation.svg"},
        {tag: "meditation", path: "audio", icon: "discover/audio.svg"},
        {tag: "comic", path: "comics-and-graphic-novels", icon: "discover/comics.svg"},
        {tag: "notion template", path: "business-and-money", icon: "discover/software.svg"},
        {tag: "textures", path: "design", icon: "discover/design.svg"},
        {tag: "procreate", path: "drawing-and-painting", icon: "discover/drawing.svg"},
        {tag: "3d model", path: "3d", icon: "discover/animation.svg"},
        {tag: "hypnosis", path: "audio", icon: "discover/audio.svg"},
        {tag: "manga", path: "comics-and-graphic-novels", icon: "discover/comics.svg"},
        {tag: "investing", path: "business-and-money", icon: "discover/software.svg"},
        {tag: "mockup", path: "design", icon: "discover/design.svg"},
        {tag: "brushes", path: "drawing-and-painting", icon: "discover/drawing.svg"},
        {tag: "spark ar", path: "3d", icon: "discover/animation.svg"},
        {tag: "subliminal messages", path: "audio", icon: "discover/audio.svg"},
        {tag: "anime", path: "comics-and-graphic-novels", icon: "discover/comics.svg"},
        {tag: "instagram", path: "business-and-money", icon: "discover/design.svg"},
        {tag: "font", path: "design", icon: "discover/design.svg"}
      ]
    },
    {
      animation: "marquee-right",
      tags: [
        {tag: "art", path: "drawing-and-painting", icon: "discover/drawing.svg"},
        {tag: "after effects", path: "films", icon: "discover/film.svg"},
        {tag: "education", path: "education", icon: "discover/education.svg"},
        {tag: "fitness", path: "fitness-and-health", icon: "discover/sports.svg"},
        {tag: "sci-fi", path: "fiction-books", icon: "discover/writing.svg"},
        {tag: "vrchat", path: "gaming", icon: "discover/games.svg"},
        {tag: "ableton", path: "music-and-sound-design", icon: "discover/music.svg"},
        {tag: "certification exams", path: "education", icon: "discover/education.svg"},
        {tag: "vj loops", path: "films", icon: "discover/film.svg"},
        {tag: "workout program", path: "fitness-and-health", icon: "discover/sports.svg"},
        {tag: "poetry", path: "fiction-books", icon: "discover/writing.svg"},
        {tag: "avatar", path: "gaming", icon: "discover/games.svg"},
        {tag: "sample pack", path: "music-and-sound-design", icon: "discover/music.svg"},
        {tag: "learning", path: "education", icon: "discover/education.svg"},
        {tag: "luts", path: "films", icon: "discover/film.svg"},
        {tag: "yoga", path: "fitness-and-health", icon: "discover/sports.svg"},
        {tag: "fiction", path: "fiction-books", icon: "discover/writing.svg"},
        {tag: "assets", path: "gaming", icon: "discover/games.svg"},
        {tag: "sheet music", path: "music-and-sound-design", icon: "discover/music.svg"}
      ]
    },
    {
      animation: "marquee-left",
      tags: [
        {tag: "reference photos", path: "photography", icon: "discover/photography.svg"},
        {tag: "coloring page", path: "self-improvement", icon: "discover/drawing.svg"},
        {tag: "singles", path: "recorded-music", icon: "discover/music.svg"},
        {tag: "programming", path: "software-development", icon: "discover/software.svg"},
        {tag: "kdp interior", path: "writing-and-publishing", icon: "discover/writing.svg"},
        {tag: "stock photos", path: "photography", icon: "discover/photography.svg"},
        {tag: "printable", path: "self-improvement", icon: "discover/crafts.svg"},
        {tag: "jazz", path: "recorded-music", icon: "discover/music.svg"},
        {tag: "windows", path: "software-development", icon: "discover/software.svg"},
        {tag: "ebook", path: "writing-and-publishing", icon: "discover/writing.svg"},
        {tag: "photobash", path: "photography", icon: "discover/photography.svg"},
        {tag: "productivity", path: "self-improvement", icon: "discover/software.svg"},
        {tag: "instrumental music", path: "recorded-music", icon: "discover/music.svg"},
        {tag: "theme", path: "software-development", icon: "discover/software.svg"},
        {tag: "low content books", path: "writing-and-publishing", icon: "discover/writing.svg"}
      ]
    }
  ]
%>

<div class="group flex flex-wrap gap-x-4 gap-y-6 justify-center" role="list">
  <% discovery_rows.each do |row| %>
    <div class="flex w-[200%] group-hover:[animation-play-state:paused] motion-safe:animate-[marquee_20s_linear_infinite] motion-safe:md:animate-[marquee_60s_linear_infinite] motion-reduce:animate-none">
      <% (row[:tags] * 2).each_with_index do |tag_obj, index| %>
        <div class="flex-shrink-0 mr-3 flex gap-3 justify-center items-center h-auto">
          <%= image_tag tag_obj[:icon],
              alt: "#{tag_obj[:tag]} icon",
              loading: "lazy",
              class: "w-12 h-auto md:w-20 flex-shrink-0" %>
          <%= link_to(
            tag_obj[:tag],
            discover_taxonomy_url(tag_obj[:path], tags: tag_obj[:tag], host: DISCOVER_DOMAIN),
            class: "px-4 py-2 bg-white rounded-full text-lg md:text-2xl font-medium text-black border border-gray-300 no-underline motion-safe:hover:-translate-x-1 motion-safe:hover:-translate-y-1 hover:shadow-[4px_4px_0_0_#000000] transition-all whitespace-nowrap"
          ) %>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
